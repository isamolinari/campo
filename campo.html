<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Validação de Email</title>
  <style>
    .erro {
      color: red;
      font-size: 0.9em;
      display: none;
    }
    input:invalid {
      border-color: red;
    }
    input:valid {
      border-color: green;
    }
  </style>
</head>
<body>
  <form id="formEmail" novalidate>
    <label for="email">Email:</label><br>
    <!-- validação nativa com HTML5 -->
    <input type="email" id="email" name="email" required
      pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
      placeholder="exemplo@dominio.com"><br>
    <span id="mensagemErro" class="erro">Por favor, insira um email válido.</span><br><br>
    <button type="submit">Enviar</button>
  </form>

  <script>
    const form = document.getElementById('formEmail');
    const emailInput = document.getElementById('email');
    const erroSpan = document.getElementById('mensagemErro');

    form.addEventListener('submit', e => {
      e.preventDefault();

      if (emailInput.checkValidity()) {
        erroSpan.style.display = 'none';
        alert('Email válido! Formulário enviado.');
        form.reset();
      } else {
        erroSpan.style.display = 'block';
        emailInput.focus();
      }
    });

    emailInput.addEventListener('input', () => {
      if (emailInput.validity.valid) {
        erroSpan.style.display = 'none';
      }
    });
  </script>
</body>
</html>
